<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>LoneStar Analytics â€“ Advanced Cowboys Analytics Platform</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="Advanced NFL analytics dashboard featuring Monte Carlo playoff modeling, Team Strength Index, win probability engines, and season path exploration." />
<meta name="theme-color" content="#041e42" />

<link rel="icon" href="https://static.www.nfl.com/league/api/clubs/logos/DAL" />
<link rel="stylesheet" href="./styles.css" />
<link rel="stylesheet" href="./src/styles/EventsAdmin.css" />
<link rel="stylesheet" href="./src/styles/Timeline.css" />

<script src="https://unpkg.com/react@17/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
#global-loader{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#041e42,#0a3d7a);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  color:white;
  z-index:9999;
  transition:opacity .4s ease;
}

.loader-ring{
  width:60px;
  height:60px;
  border:4px solid rgba(255,255,255,.2);
  border-top:4px solid #fff;
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin-top:1rem;
}

@keyframes spin{
  to{transform:rotate(360deg)}
}

#debug-panel{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#0f172a;
  color:#94a3b8;
  font-size:12px;
  padding:6px 12px;
  display:flex;
  justify-content:space-between;
  z-index:9998;
}

#scroll-progress{
  position:fixed;
  top:0;
  left:0;
  height:3px;
  background:#3b82f6;
  width:0%;
  z-index:10000;
}
</style>

</head>
<body>

<a href="#root" class="skip-link">Skip to main content</a>

<div id="global-loader">
  <h2 style="margin:0;font-weight:700;">LoneStar Analytics</h2>
  <div class="loader-ring"></div>
</div>

<nav class="nav-bar">
  <div class="nav-link" data-page="dashboard" onclick="window.setPage('dashboard')">Dashboard</div>
  <div class="nav-link" data-page="simulator" onclick="window.setPage('simulator')">AI Simulator</div>
  <div class="nav-link" data-page="analytics" onclick="window.setPage('analytics')">Analytics</div>
  <div class="nav-link" data-page="rival" onclick="window.setPage('rival')">Rival Impact</div>
  <div class="nav-link" data-page="clutch" onclick="window.setPage('clutch')">Clutch Index</div>
  <div class="nav-link" data-page="timeline" onclick="window.setPage('timeline')">Timeline</div>
  <div class="nav-link" data-page="paths" onclick="window.setPage('paths')">Season Paths</div>
  <div class="nav-link" data-page="liveprob" onclick="window.setPage('liveprob')">Live Win Prob</div>
  <div class="nav-link" data-page="events" onclick="window.setPage('events')">Events Admin</div>
</nav>

<main id="app-shell">
  <div id="root"></div>
</main>

<div id="scroll-progress"></div>

<div id="debug-panel">
  <div id="route-indicator">Route: dashboard</div>
  <div id="network-status">Network: online</div>
  <div id="fps-indicator">FPS: --</div>
</div>

<script type="text/babel" src="./src/api.js"></script>
<script type="text/babel" src="./src/components/RecordCard.jsx"></script>
<script type="text/babel" src="./src/components/GameTable.jsx"></script>
<script type="text/babel" src="./src/components/PlayerRadar.jsx"></script>
<script type="text/babel" src="./src/components/UserProfileCard.jsx"></script>
<script type="text/babel" src="./src/components/AIStorySimulator.jsx"></script>
<script type="text/babel" src="./src/components/HistoryPage.jsx"></script>
<script type="text/babel" src="./src/components/TSICard.jsx"></script>
<script type="text/babel" src="./src/components/MustWinCard.jsx"></script>
<script type="text/babel" src="./src/components/SeasonPathExplorer.jsx"></script>
<script type="text/babel" src="./src/components/LiveWinProbTool.jsx"></script>
<script type="text/babel" src="./src/components/RivalTeamImpactVisual.jsx"></script>
<script type="text/babel" src="./src/components/RivalTeamImpactPage.jsx"></script>
<script type="text/babel" src="./src/components/Maps.jsx"></script>
<script type="text/babel" src="./src/components/ClutchIndex.jsx"></script>
<script type="text/babel" src="./src/components/EventsAdmin.jsx"></script>
<script type="text/babel" src="./src/components/Timeline.jsx"></script>
<script type="text/babel" src="./src/main.jsx"></script>

<script>
(function(){

function hideLoader(){
  const loader=document.getElementById("global-loader");
  if(!loader) return;
  loader.style.opacity="0";
  setTimeout(function(){
    loader.style.display="none";
  },400);
}

window.addEventListener("load",function(){
  setTimeout(hideLoader,300);
});

document.addEventListener("DOMContentLoaded",function(){
  setTimeout(function(){
    const root=document.getElementById("root");
    if(root && root.children.length>0){
      hideLoader();
    }
  },600);
});

function enhanceRouter(){
  const original=window.setPage;
  if(!original) return;

  window.setPage=function(page){
    const routeEl=document.getElementById("route-indicator");
    if(routeEl) routeEl.textContent="Route: "+page;
    original(page);
  };
}

setTimeout(enhanceRouter,100);

let last=performance.now();
let frames=0;

function fps(){
  const now=performance.now();
  frames++;
  if(now>last+1000){
    const el=document.getElementById("fps-indicator");
    if(el) el.textContent="FPS: "+frames;
    frames=0;
    last=now;
  }
  requestAnimationFrame(fps);
}
requestAnimationFrame(fps);

window.addEventListener("scroll",function(){
  const docHeight=document.body.scrollHeight-window.innerHeight;
  const percent=docHeight>0?(window.scrollY/docHeight)*100:0;
  const bar=document.getElementById("scroll-progress");
  if(bar) bar.style.width=percent+"%";
});

window.addEventListener("online",function(){
  const el=document.getElementById("network-status");
  if(el) el.textContent="Network: online";
});

window.addEventListener("offline",function(){
  const el=document.getElementById("network-status");
  if(el) el.textContent="Network: offline";
});

})();
</script>

</body>
</html>


